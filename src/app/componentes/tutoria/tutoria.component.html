<app-header-administrador></app-header-administrador>
<div class="bg-primary p-5">
    <div class="row d-flex justify-content-center text-white">
        <h1 class="text-center">Tutorías de {{alumno?.nombre}} {{alumno?.apellido1}} {{alumno?.apellido2}}</h1>
        <div class="col-md-6 col-lg-4" *ngFor="let tutoria of tutorias">
            <div class="card p-3 m-1 bg-info">
                <div class="text-center">
                    <img width="100" [src]="tutoria.profesor.pathFoto" alt="{{tutoria.profesor.nombre}}">
                    <h4>{{tutoria.profesor.nombre}} {{tutoria.profesor.apellido1}} {{tutoria.profesor.apellido2}}</h4>
                    <h5 class="fst-italic">{{tutoria.tipoTutoria}}</h5>
                    <button (click)="abrirModalEliminar(tutoria.id)" class="btn btn-primary">Eliminar</button>
                </div>

                <div class="modal fade" id="modalEliminarTutoria{{tutoria.id}}" tabindex="-1"
                    aria-labelledby="modalEliminarTutoria" aria-hidden="true">
                    <div class="modal-dialog modal-dialog-centered">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title">¿Desea eliminar la tutoría?</h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal"
                                    aria-label="Close"></button>
                            </div>
                            <div class="modal-footer d-flex justify-content-center">
                                <button class="btn btn-primary btn-block"
                                    (click)="eliminarTutoria(tutoria.id)">Aceptar</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="bg-info p-5">
    <div class="row d-flex justify-content-center">
        <h1 class="text-center">Añadir Nueva Tutoría</h1>
        <div class="col-md-6 col-lg-4">
            <form (ngSubmit)="agregarTutoria()">
                <div class="py-3">
                    <label class="fw-bold" for="profesorSelect">Profesor</label>
                    <select class="form-select" id="profesorSelect" [(ngModel)]="idProfesor" name="profesor">
                        <option *ngFor="let profesor of profesores" [value]="profesor.id">{{profesor.nombre}}
                            {{profesor.apellido1}} {{profesor.apellido2}}</option>
                    </select>
                </div>

                <div class="py-3">
                    <label class="fw-bold" for="tipoTutoriaSelect">Tipo de Tutoría</label>
                    <select class="form-select" id="tipoTutoriaSelect" [(ngModel)]="tipoTutoria" name="tipoTutoria">
                        <option *ngFor="let tipo of tiposTutoria" [value]="tipo">{{tipo}}</option>
                    </select>
                </div>
                
                <div class="d-flex justify-content-center">
                    <button type="submit" class="btn btn-primary mt-2">Añadir</button>
                </div>
            </form>
        </div>
    </div>
</div>

<div class="modal fade" id="modalTutoriaAdded" tabindex="-1" aria-labelledby="modalTutoriaAdded" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">¡Tutoría añadida!</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-footer d-flex justify-content-center">
                <button class="btn btn-primary btn-block" data-bs-dismiss="modal" (click)="reload()">Aceptar</button>
            </div>
        </div>
    </div>
</div>


<app-footer></app-footer>